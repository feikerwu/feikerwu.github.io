"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,o,t){var r=document,s=[].slice,n=e.CSSRule||{},u=n.IMPORT_RULE,c=n.MEDIA_RULE,a=n.KEYFRAMES_RULE||n.WEBKIT_KEYFRAMES_RULE||n.MOZ_KEYFRAMES_RULE||n.O_KEYFRAMES_RULE,i=document.documentElement.style,f=function(){for(var e,t="-webkit- -moz- -o- -ms-".split(" ");e=t.shift();)if(h(e+"animation")in i)return e;return""}(),l=new RegExp("@(?:"+f+")?keyframes","i"),p=R("animation"),y="@"+p.replace("animation","keyframes");function m(){for(var e,t,n=0;e=r.styleSheets.item(n++);)try{if(e.cssRules)return e}catch(e){}return(t=r.createElement("style")).type="text/css",r.getElementsByTagName("head")[0].appendChild(t),t.sheet}function h(e){return(e+"").replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/gi,function(e,t){return(t+"").toUpperCase()})}function d(i){s.call(r.styleSheets).forEach(function n(r){s.call(r.cssRules).forEach(function(e,t){e.type==u?n(e.styleSheet||e.sheet):e.type==c?n(e):e.type==a&&i(e,t,r)})})}function R(e){var t=h(e),n=h(f+t);return t in i&&e||n in i&&f+e||e}function E(e){return{from:"0%",to:"100%"}[e]||(e+"").replace("%","")+"%"}function S(t){var e="";return"string"==typeof t?e=S(t.split(/\s*;\s*/g)):Array.isArray(t)?e=S(t.reduce(function(e,t){var n=t.split(/\s*:\s*/);return 1<n.length&&(e[n[0]]=n[1]),e},{})):t&&(e=Object.keys(t).map(function(e){return R(e)+": "+t[e]+";"}).join(" ")),e}function v(e){return(e+"").trim().split(/\s*[\s,]\s*/)}o.prototype={constructor:o,init:function(e,t){var n;if(!o.support)return this;if(("object"==(void 0===e?"undefined":_typeof(e))||l.test(e))&&(e.cssRules&&e.type==a?n=e:(t=e,e=null)),e||(e="js2keyframes-"+parseInt(1e10*Math.random())),!n){var r=m(),i=r.insertRule(function(n,e){var t="";if("string"==typeof n){if(l.test(n))return n.replace(l,y);t=n.replace(/^\s*{\s*(?={)|}\s*(?=}\s*$)/gi,"")}else Array.isArray(n)?t=n.map(function(e,t){return(t/(n.length-1)*100||0)+"% { "+S(e)+" }"}).join(" "):n&&(t=Object.keys(n).map(function(e){var t=S(n[e]);return v(e).map(function(e){return E(e)+" { "+t+" }"}).join(" ")}).join(" "));return y+" "+e+" { "+t+" }"}(t,e),r.cssRules.length);n=r.cssRules[i]}return this.keyframesRule=n||{},this.extract()},extract:function(){return this.keyframes=s.call(this.cssRules).reduce(function(e,t){return e[t.keyText]=t,e},{}),this},get:function(e){return this.keyframes[E(v(e)[0])]},add:function(e,t){var n,r=this.keyframesRule,i="appendRule"in r?"appendRule":"insertRule";if("object"==(void 0===e?"undefined":_typeof(e)))for(var o in e)this.add(o,e[o]);else n=S(t),v(e).forEach(function(e){this.remove(e),r[i](E(e)+" { "+n+" }")}.bind(this));return this.extract()},remove:function(e){var t=this.keyframesRule;return v(e).forEach(function(e){t.deleteRule(E(e))}),this.extract()},clear:function(){return s.call(this.cssRules).forEach(function(e){this.remove(e.keyText)}.bind(this)),this.extract()}};var b={vendor:f,get:function(e){return this.CSSKeyframes[e]},add:function(){return this.apply(null,arguments)},remove:function(r){return d(function(e,t,n){e.name==(r.name||r)&&n.deleteRule(t)}),!0},getSheet:m,"animation-css":p,animation:h(p),support:h(p)in i};"function"==typeof Object.defineProperties&&("name duration timing-function delay iteration-count direction play-state fill-mode".split(" ").forEach(function(e){var t="animation-"+e,n=h(t);o[n]=h(o[t]=R(t))}),Object.keys(b).forEach(function(e){o[e]=b[e]}),"name cssText cssRules".split(" ").forEach(function(e){Object.defineProperty(o.prototype,e,{get:function(){return(this.keyframesRule||{})[e]},enumerable:!0})}),Object.defineProperty(o,"CSSKeyframes",{get:function(){var t={};return d(function(e){t[e.name]=this(e)}.bind(this)),t},enumerable:!0})),"function"==typeof define&&define.amd?define("JS2CSSKeyframes",function(){return o}):e.JS2CSSKeyframes=o}(window,function(e,t){if(!(this instanceof arguments.callee))return new arguments.callee(e,t);arguments.callee.support&&this.init(e,t)});